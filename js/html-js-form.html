<!DOCTYPE html>
<html>

<head>

</head>

<body>

    <section>
        <h1>Registration Form</h1>
        <hr />
        <form onsubmit="submitRegForm(this); return false;">

            <label for="username">Username</label>
            <br />
            <input type="text" id="username" required>
            <br />
            <h5>Select interests</h5>
            <label>
                <input type="checkbox" name="interests" value="music">Music
            </label>
            <br />
            <label>
                <input type="checkbox" name="interests" value="sports">Sports
            </label>
            <br />
            <label>
                <input type="checkbox" name="interests" value="movies">Movies
            </label>
            <br />
            <label>
                <input type="checkbox" name="interests" value="workout">Workout
            </label>
            <br />
            <h5>Select gender</h5>
            <label>
                <input type="radio" name="gender" value="female">Female
            </label>
            <br>
            <label>
                <input type="radio" name="gender" value="male">Male
            </label>
            <br>
            <label>
                <input type="radio" name="gender" value="other">Other
            </label>
            <br>
            <br>

            <select id="education" onchange="updateSpecialization()">
                <option value="">Select education</option>
                <option value="Engineering">Engineering</option>
                <option value="Medical">Medical</option>
                <option value="Science">Science</option>
            </select>
            <br />
            <select id="specilization">
                <option value="">Select specilization</option>
            </select>
            <br />
            <input type="submit" value="Submit">
        </form>

    </section>


    <script>

        const updateSpecialization = () => {
            const educationDropdown =
                document.getElementById('education');
            const specilizationDropdown =
                document.getElementById('specilization');
            const selectedEducation = educationDropdown.value;
            specilizationDropdown.innerHTML = '';
            let specilizationOptions;

            switch (selectedEducation) {
                case 'Engineering':
                    specilizationOptions = ['CSE', 'ECE', 'Mech', 'Civil', 'Other'];
                    break;
                case 'Medical':
                    specilizationOptions = ['MBBS', 'BAMS', 'DBS'];
                    break;
                case 'Science':
                    specilizationOptions = ['Maths', 'Physics', 'Chemistry'];
                    break;
                default:
                    specilizationOptions = [];
                    break;
            }
            specilizationOptions.forEach((specilization) => {
                const option = document.createElement('option');
                option.text = specilization;
                specilizationDropdown.add(option);
            });
        };

        const submitRegForm = (regData) => {

            console.log(regData.username.value);

            // fetch checkboxes values 
            let interestsCheckBoxes = document.getElementsByName('interests');
            let selectedInterests = [];
            interestsCheckBoxes.forEach((elem) => {
                if (elem.checked)
                    selectedInterests.push(elem.value);
            });
            console.log(selectedInterests);

            // fetch radio button values 
            let selectedGender = '';
            let genderRadioButtons = document.getElementsByName('gender');
            genderRadioButtons.forEach((elem) => {
                if (elem.checked)
                    selectedGender = elem.value;
            });
            console.log(selectedGender);

            alert(`${regData.username.value} registered successfully!`)
            regData.reset();
            // updateSpecialization();
        };

    </script>

</body>

</html>